# web-command-palette

ブラウザ上で動作するユーザースクリプト製コマンドパレット。⌘P / Ctrl+P で任意のサイトやブラウザ操作、検索テンプレートを素早く実行できます。

## 主な機能
- **ファジー検索**: `gthb` のような曖昧入力でも目的のサイトを高速ヒット。
- **タグフィルタ**: `@仕事 Git` など、タグとキーワードの組み合わせで絞り込み。
- **使用頻度学習**: よく使うエントリは自動的に上位に表示。
- **サイトマネージャ**: GUI でサイト・タグ・検索テンプレート（`%s`）を編集。現在のタブをワンクリック追加可能。
- **コマンド実行**: タブを閉じる／リロード／URLコピー／ページ先頭へ等、ブラウザ操作を登録済み。
- **テーマ切替 & 配色変更**: ダーク／ライトを切替、アクセントカラーも任意に設定。
- **favicon キャッシュ管理**: 必要に応じて UI 上からキャッシュをクリア。

## 導入方法
1. Web ブラウザに Tampermonkey / Violentmonkey などのユーザースクリプトマネージャをインストール。
2. `main.js` の内容を新規スクリプトとして登録。
3. 任意のページを開き、⌘P (Mac) / Ctrl+P (Windows/Linux) でパレットが起動することを確認。

## 使い方
- **検索**: パレットを開き、サイト名・URL・タグ・検索語を入力。Enter で既定タブ、Shift+Enter で逆のタブ動作。
- **タグフィルタ**: `@タグ名` を先頭に付けると該当タグだけに絞り込み。
- **検索テンプレート**: `%s` を含む URL を選択するとクエリ入力ステップに移り、入力後に置換して開きます。
- **コマンド**: `COMMAND` バッジが付いた項目はブラウザ操作。選択するだけで即時実行。

## 設定
パレット右下リンク、またはユーザースクリプトメニューから「設定」を開くと以下を変更可能です。
- メイン／サブホットキー
- Enter キーの既定動作（同一タブ or 新規タブ）
- 無効化するホスト（ワイルドカード対応）
- テーマ（ダーク／ライト）とアクセントカラー
- favicon キャッシュのクリア

## サイトマネージャ
- 登録エントリの名前・URL・タグを表形式で編集。
- 「行を追加」で新規エントリ、「このページを追加」コマンドで現タブを即登録。
- JSON インポート／エクスポート対応。読み込み時は自動的に正しい形式へ整形されます。

## カスタマイズと開発
- スクリプトは単体 `main.js` のみ。変更後はユーザースクリプトマネージャで更新してください。
- Greasemonkey API (`GM_*`) を利用。対応マネージャの設定で外部リクエストを許可する必要があります。
- ライセンス表記は含めていないため、公開時は適宜追記してください。